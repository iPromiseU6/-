<!--创建人：吴永佳-->
<!--创建时间：2018.12.2-->
<!--描述：CustomerSurplusList的展示-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../../Themes/material/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../Themes/icon.css">
    <link rel="stylesheet" type="text/css" href="../../CSS/common.css">
</head>
<body style="padding: 0">
<div id="div_layout" class="easyui-layout">
    <div data-options="region:'center'">
        <div class="easyui-panel" title="DataList">
            <table id="dg"></table>
        </div>
    </div>
</div>
<div id="toolbar"></div>
<div id="dlg" class="easyui-dialog" closed="true">
    <iframe id="ifrmEdit" height="100%" width="100%" frameborder="0" scrolling="no"></iframe>
</div>
</body>
<script type="text/javascript" src="../../JS/jquery.min.js"></script>
<script type="text/javascript" src="../../JS/jquery.easyui.js"></script>
<script type="text/javascript" src="../../JS/common.js"></script>
<script type="text/javascript" src="../../Utils/ip.js"></script>
<script type="text/javascript" src="../../Utils/ShareComponent.js"></script>
<script type="text/javascript" src="../../JS/ToolBar.js"></script>
<script type="text/javascript" src="../../JS/SearchComponent.js"></script>
<script type="text/javascript" src="../../Utils/BasicList.js"></script>
<script type="text/javascript" src="../../Utils/Request.js"></script>
<script type="text/javascript" src="../../Utils/Enum.js"></script>
<script type="text/javascript">
    //创建页面对象
    var gBasicList = new BasicListPage();
    //创建接口
    var gApiKey = "ACCOUNT_SURPLUS";
    //创建请求对象
    var gRequest = new RequestHandle();
    //创建Url
    var gDatagridUrl = RequestUrl.constructURL(gApiKey, "list");
    //表格配置（创建表格时传入）
    var gConfig = {
        url: gDatagridUrl,
        method: 'put',
        singleSelect: true,
        columns: [
            [{
                field: 'customerNumber',
                title: 'CustomerNumber',
                width: '20%',
                align: 'center',
                formatter: function (value) {
                    return "<a style=\"color:#108ee9;cursor:pointer\" onclick=\"ToDetail()\">" + value + "</a>"
                },
            }, {
                field: 'firstName',
                title: 'FristName',
                width: '20%',
                align: 'center',
            }, {
                field: 'foreignCurrencyCode',
                title: 'CurrencyCode',
                width: '20%',
                align: 'center',
            }, {
                field: 'amount',
                title: 'Amount',
                width: '20%',
                align: 'center',
            }]
        ],
        onDblClickRow: function (index, row) {
            var pLocation = "UI/CustomerSurplus/CustomerSurplusDetail.html?id=" + row.id;
            AddTabIn("CustomerSurplusDetail", parent.$('#tabs'), pLocation);
        },
    };
    //创建表格
    gBasicList.createDataGrid(gConfig);

    function ToDetail() {
        setTimeout(function () {
            var row = $("#dg").datagrid('getSelected');
            var pLocation = "UI/CustomerSurplus/CustomerSurplusDetail.html?id=" + row.id;
            AddTabIn("CustomerSurplusDetail", parent.$('#tabs'), pLocation);
        }, 300);
    }

</script>
</html>